<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="359px" preserveAspectRatio="none" style="width:1509px;height:359px;background:#FFFFFF;" version="1.1" viewBox="0 0 1509 359" width="1509px" zoomAndPan="magnify"><defs><filter height="300%" id="f1qlch0mqdoibp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="94" x2="94" y1="40.7999" y2="316"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="361.5" x2="361.5" y1="40.7999" y2="316"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="525.5" x2="525.5" y1="40.7999" y2="316"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="740.5" x2="740.5" y1="40.7999" y2="316"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="970.5" x2="970.5" y1="40.7999" y2="316"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1306.5" x2="1306.5" y1="40.7999" y2="316"/><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="175" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="12" y="25.9999">[repo].[RepoObject_gross]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="175" x="5" y="315"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="12" y="336">[repo].[RepoObject_gross]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="152" x="283.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="294.5" y="25.9999">[repo].[GeneratorUsp]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="152" x="283.5" y="315"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="294.5" y="336">[repo].[GeneratorUsp]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="148" x="449.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="456.5" y="25.9999">[repo].[GeneratorUsp]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="148" x="449.5" y="315"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="456.5" y="336">[repo].[GeneratorUsp]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="255" x="611.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="241" x="618.5" y="25.9999">[repo].[GeneratorUspStep_Persistence]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="255" x="611.5" y="315"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="241" x="618.5" y="336">[repo].[GeneratorUspStep_Persistence]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="176" x="880.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="887.5" y="25.9999">[repo].[GeneratorUspStep]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="176" x="880.5" y="315"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="887.5" y="336">[repo].[GeneratorUspStep]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="378" x="1115.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="364" x="1122.5" y="25.9999">[repo].[GeneratorUspStep_Persistence_IsInactive_setpoint]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="378" x="1115.5" y="315"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="364" x="1122.5" y="336">[repo].[GeneratorUspStep_Persistence_IsInactive_setpoint]</text><rect fill="#EEEEEE" filter="url(#f1qlch0mqdoibp)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1502.5" x="0" y="71.5999"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1502.5" y1="71.5999" y2="71.5999"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1502.5" y1="74.5999" y2="74.5999"/><rect fill="#EEEEEE" filter="url(#f1qlch0mqdoibp)" height="23.6" style="stroke:#000000;stroke-width:2.0;" width="397" x="552.75" y="60.7999"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="379" x="558.75" y="77.7999">[repo].[usp_GeneratorUsp_insert_update_persistence] - start</text><line style="stroke:#A80036;stroke-width:2.0;" x1="343.5" x2="353.5" y1="113" y2="123"/><line style="stroke:#A80036;stroke-width:2.0;" x1="343.5" x2="353.5" y1="123" y2="113"/><line style="stroke:#A80036;stroke-width:1.0;" x1="94.5" x2="348.5" y1="118" y2="118"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="101.5" y="113.4">delete old usp, which doesn't exist anymore</text><rect fill="#FBFB77" filter="url(#f1qlch0mqdoibp)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="366" y="99.3999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="370" y="116.4">0</text><polygon fill="#A80036" points="513.5,147.6,523.5,151.6,513.5,155.6,517.5,151.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="94.5" x2="519.5" y1="151.6" y2="151.6"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="101.5" y="147">insert new usp</text><rect fill="#FBFB77" filter="url(#f1qlch0mqdoibp)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="530" y="133"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="534" y="150">0</text><ellipse cx="970" cy="184.45" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="953,181.2,963,185.2,953,189.2,957,185.2" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="741" x2="959" y1="185.2" y2="185.2"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="748" y="180.6">update steps, changed</text><rect fill="#FBFB77" filter="url(#f1qlch0mqdoibp)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="975" y="166.6"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="979" y="183.6">0</text><polygon fill="#A80036" points="958.5,214.8,968.5,218.8,958.5,222.8,962.5,218.8" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="741" x2="964.5" y1="218.8" y2="218.8"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="748" y="214.2">insert steps, not existing</text><rect fill="#FBFB77" filter="url(#f1qlch0mqdoibp)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="975" y="200.2"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="979" y="217.2">0</text><ellipse cx="970" cy="251.65" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="987,248.4,977,252.4,987,256.4,983,252.4" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="985" x2="1305.5" y1="252.4" y2="252.4"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312" x="987.5" y="247.8">update steps; SET [is_inactive] = [setpoint].[is_inactive]</text><rect fill="#FBFB77" filter="url(#f1qlch0mqdoibp)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="1311" y="233.8"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="1315" y="250.8">0</text><rect fill="#EEEEEE" filter="url(#f1qlch0mqdoibp)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1502.5" x="0" y="283.2"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1502.5" y1="283.2" y2="283.2"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1502.5" y1="286.2" y2="286.2"/><rect fill="#EEEEEE" filter="url(#f1qlch0mqdoibp)" height="23.6" style="stroke:#000000;stroke-width:2.0;" width="394" x="554.25" y="272.4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="376" x="560.25" y="289.4">[repo].[usp_GeneratorUsp_insert_update_persistence] - end</text><!--MD5=[2b1169d42487de42f8dbbb5ece3cb339]
@startuml
== [repo].[usp_GeneratorUsp_insert_update_persistence] - start ==

"[repo].[RepoObject_gross]" ->x " [repo].[GeneratorUsp]" : delete old usp, which doesn't exist anymore
rnote right:0
"[repo].[RepoObject_gross]" -> "[repo].[GeneratorUsp]" : insert new usp
rnote right:0
"[repo].[GeneratorUspStep_Persistence]" ->O "[repo].[GeneratorUspStep]" : update steps, changed
rnote right:0
"[repo].[GeneratorUspStep_Persistence]" -> "[repo].[GeneratorUspStep]" : insert steps, not existing
rnote right:0
"[repo].[GeneratorUspStep_Persistence_IsInactive_setpoint]" ->O "[repo].[GeneratorUspStep]" : update steps; SET [is_inactive] = [setpoint].[is_inactive]
rnote right:0

== [repo].[usp_GeneratorUsp_insert_update_persistence] - end ==
@enduml

PlantUML version 1.2021.16(Wed Dec 08 17:25:22 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>