<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1396px" preserveAspectRatio="none" style="width:3252px;height:1396px;" version="1.1" viewBox="0 0 3252 1396" width="3252px" zoomAndPan="magnify"><defs><filter height="300%" id="f18yyocwl26979" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="258" x2="258" y1="42.8945" y2="1350.416"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="767" x2="767" y1="42.8945" y2="1350.416"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1242" x2="1242" y1="42.8945" y2="1350.416"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1542" x2="1542" y1="42.8945" y2="1350.416"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1784" x2="1784" y1="42.8945" y2="1350.416"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2087.5" x2="2087.5" y1="42.8945" y2="1350.416"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2262.5" x2="2262.5" y1="42.8945" y2="1350.416"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2434.5" x2="2434.5" y1="42.8945" y2="1350.416"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2615.5" x2="2615.5" y1="42.8945" y2="1350.416"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2822.5" x2="2822.5" y1="42.8945" y2="1350.416"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3019.5" x2="3019.5" y1="42.8945" y2="1350.416"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3169.5" x2="3169.5" y1="42.8945" y2="1350.416"/><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="502" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="488" x="12" y="26.7383">[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="502" x="5" y="1349.416"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="488" x="12" y="1371.1543">[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="488" x="521" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="474" x="528" y="26.7383">[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="488" x="521" y="1349.416"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="474" x="528" y="1371.1543">[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="434" x="1023" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="420" x="1030" y="26.7383">[repo].[IndexReferencedReferencing_HasFullColumnsInReferencing]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="434" x="1023" y="1349.416"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="420" x="1030" y="1371.1543">[repo].[IndexReferencedReferencing_HasFullColumnsInReferencing]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="139" x="1471" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="1478" y="26.7383">[repo].[Index_virtual]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="139" x="1471" y="1349.416"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="1478" y="1371.1543">[repo].[Index_virtual]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="317" x="1624" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="1631" y="26.7383">[repo].[IndexColumn_virtual_referenced_setpoint]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="317" x="1624" y="1349.416"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="1631" y="1371.1543">[repo].[IndexColumn_virtual_referenced_setpoint]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="186" x="1992.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="1999.5" y="26.7383">[repo].[IndexColumn_virtual]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="186" x="1992.5" y="1349.416"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="1999.5" y="1371.1543">[repo].[IndexColumn_virtual]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="136" x="2192.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="2199.5" y="26.7383">[repo].[Index_gross]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="136" x="2192.5" y="1349.416"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="2199.5" y="1371.1543">[repo].[Index_gross]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="181" x="2342.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="2349.5" y="26.7383">[repo].[Index_IndexPattern]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="181" x="2342.5" y="1349.416"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="2349.5" y="1371.1543">[repo].[Index_IndexPattern]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="153" x="2537.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="2544.5" y="26.7383">[repo].[Index_Settings]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="153" x="2537.5" y="1349.416"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="2544.5" y="1371.1543">[repo].[Index_Settings]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="232" x="2704.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218" x="2711.5" y="26.7383">[repo].[Index_IndexSemanticGroup]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="232" x="2704.5" y="1349.416"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218" x="2711.5" y="1371.1543">[repo].[Index_IndexSemanticGroup]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="134" x="2950.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="2957.5" y="26.7383">[repo].[RepoObject]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="134" x="2950.5" y="1349.416"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="2957.5" y="1371.1543">[repo].[RepoObject]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="138" x="3098.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="3105.5" y="26.7383">[repo].[Index_union]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="138" x="3098.5" y="1349.416"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="3105.5" y="1371.1543">[repo].[Index_union]</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3245.5" x="0" y="74.667"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3245.5" y1="74.667" y2="74.667"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3245.5" y1="77.667" y2="77.667"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="25.5449" style="stroke:#000000;stroke-width:2.0;" width="228" x="1508.75" y="62.8945"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="210" x="1514.75" y="80.5801">[repo].[usp_index_inheritance] - start</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3245.5" x="0" y="120.2119"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3245.5" y1="120.2119" y2="120.2119"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3245.5" y1="123.2119" y2="123.2119"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="25.5449" style="stroke:#000000;stroke-width:2.0;" width="585" x="1330.25" y="108.4395"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="567" x="1336.25" y="126.125">[repo].[usp_PERSIST_IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T] - start</text><line style="stroke:#A80036;stroke-width:2.0;" x1="240" x2="250" y1="167.5293" y2="177.5293"/><line style="stroke:#A80036;stroke-width:2.0;" x1="240" x2="250" y1="177.5293" y2="167.5293"/><line style="stroke:#A80036;stroke-width:1.0;" x1="81" x2="245" y1="172.5293" y2="172.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="88" y="166.6699">truncate persistence target</text><path d="M263,148.9844 L263,175.9844 L292,175.9844 L292,158.9844 L282,148.9844 L263,148.9844 " fill="#FBFB77" filter="url(#f18yyocwl26979)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M282,148.9844 L282,158.9844 L292,158.9844 L282,148.9844 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="269" y="167.6699">0</text><polygon fill="#A80036" points="269,207.0742,259,211.0742,269,215.0742,265,211.0742" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="263" x2="766" y1="211.0742" y2="211.0742"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="275" y="205.2148">insert all</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="32" x="772" y="190.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="776" y="208.2148">147</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3245.5" x="0" y="242.8467"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3245.5" y1="242.8467" y2="242.8467"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3245.5" y1="245.8467" y2="245.8467"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="25.5449" style="stroke:#000000;stroke-width:2.0;" width="580" x="1332.75" y="231.0742"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="562" x="1338.75" y="248.7598">[repo].[usp_PERSIST_IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T] - end</text><line style="stroke:#A80036;stroke-width:2.0;" x1="1524.5" x2="1534.5" y1="287.1641" y2="297.1641"/><line style="stroke:#A80036;stroke-width:2.0;" x1="1524.5" x2="1534.5" y1="297.1641" y2="287.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1242" x2="1529.5" y1="292.1641" y2="292.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="1249" y="286.3047">DELETE (referenced index is missing)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="1547" y="271.6191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1551" y="289.3047">2</text><polygon fill="#A80036" points="1530.5,356.7988,1540.5,360.7988,1530.5,364.7988,1534.5,360.7988" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1242" x2="1536.5" y1="360.7988" y2="360.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="1249" y="319.8496">INSERT (Index which should be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="1249" y="337.3945">inherited in referenced, but not yet</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="1249" y="354.9395">referenced)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="1547" y="322.709"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1551" y="340.3945">2</text><line style="stroke:#A80036;stroke-width:2.0;" x1="2069.5" x2="2079.5" y1="404.8887" y2="414.8887"/><line style="stroke:#A80036;stroke-width:2.0;" x1="2069.5" x2="2079.5" y1="414.8887" y2="404.8887"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1784.5" x2="2074.5" y1="409.8887" y2="409.8887"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="1791.5" y="386.4844">DELETE (where entries are missing in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="1791.5" y="404.0293">setpoint)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="2092" y="380.5713"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2096" y="398.2568">0</text><polygon fill="#A80036" points="2075.5,439.4336,2085.5,443.4336,2075.5,447.4336,2079.5,443.4336" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1784.5" x2="2081.5" y1="443.4336" y2="443.4336"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1791.5" y="437.5742">INSERT missing</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="2092" y="422.8887"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2096" y="440.5742">4</text><line style="stroke:#A80036;stroke-width:2.0;" x1="1548.5" x2="1558.5" y1="473.9785" y2="483.9785"/><line style="stroke:#A80036;stroke-width:2.0;" x1="1548.5" x2="1558.5" y1="483.9785" y2="473.9785"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1554.5" x2="2261.5" y1="478.9785" y2="478.9785"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="1559.5" y="473.1191">DELETE duplicates by pattern</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="2267" y="458.4336"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2271" y="476.1191">7</text><ellipse cx="2087" cy="564.4082" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="2070,561.1582,2080,565.1582,2070,569.1582,2074,565.1582" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1784.5" x2="2076" y1="565.1582" y2="565.1582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="1791.5" y="506.6641">SET [RepoObjectColumn_guid] =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279" x="1791.5" y="524.209">[setpoint].[referencing_RepoObjectColumn_guid],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="1791.5" y="541.7539">[is_descending_key] =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="1791.5" y="559.2988">[setpoint].[is_descending_key]</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="2092" y="518.2959"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2096" y="535.9814">4</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3245.5" x="0" y="594.9307"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3245.5" y1="594.9307" y2="594.9307"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3245.5" y1="597.9307" y2="597.9307"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="25.5449" style="stroke:#000000;stroke-width:2.0;" width="213" x="1516.25" y="583.1582"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="195" x="1522.25" y="600.8438">[repo].[usp_Index_Settings] - start</text><line style="stroke:#A80036;stroke-width:2.0;" x1="2598" x2="2608" y1="639.248" y2="649.248"/><line style="stroke:#A80036;stroke-width:2.0;" x1="2598" x2="2608" y1="649.248" y2="639.248"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2435" x2="2603" y1="644.248" y2="644.248"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="2442" y="638.3887">DELETE</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="2621" y="623.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2625" y="641.3887">9</text><polygon fill="#A80036" points="2604,675.793,2614,679.793,2604,683.793,2608,679.793" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2435" x2="2610" y1="679.793" y2="679.793"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="2442" y="673.9336">INSERT</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="2621" y="659.248"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2625" y="676.9336">2</text><ellipse cx="2615.5" cy="714.5879" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="2598.5,711.3379,2608.5,715.3379,2598.5,719.3379,2602.5,715.3379" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2435" x2="2604.5" y1="715.3379" y2="715.3379"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="2442" y="709.4785">UPDATE</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="2621" y="694.793"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2625" y="712.4785">4</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3245.5" x="0" y="747.1104"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3245.5" y1="747.1104" y2="747.1104"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3245.5" y1="750.1104" y2="750.1104"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="25.5449" style="stroke:#000000;stroke-width:2.0;" width="208" x="1518.75" y="735.3379"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="190" x="1524.75" y="753.0234">[repo].[usp_Index_Settings] - end</text><ellipse cx="2822" cy="824.2227" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2822.5" x2="2864.5" y1="811.9727" y2="811.9727"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2864.5" x2="2864.5" y1="811.9727" y2="824.9727"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2827.5" x2="2864.5" y1="824.9727" y2="824.9727"/><polygon fill="#A80036" points="2837.5,820.9727,2827.5,824.9727,2837.5,828.9727,2833.5,824.9727" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="2829.5" y="788.5684">SET [IndexSemanticGroup] =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="2829.5" y="806.1133">[TSource].[IndexSemanticGroup]</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="3024" y="789.1553"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="3028" y="806.8408">2</text><ellipse cx="1542" cy="908.4023" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="1559,905.1523,1549,909.1523,1559,913.1523,1555,909.1523" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1557" x2="3018.5" y1="909.1523" y2="909.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="1559.5" y="850.6582">SET [is_index_primary_key] = 1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="1559.5" y="868.2031">[is_index_unique] = 1 (propagate PK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="1559.5" y="885.748">from [repo].[RepoObject] into</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="1559.5" y="903.293">[repo].[Index_virtual])</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="3024" y="862.29"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="3028" y="879.9756">0</text><ellipse cx="1542" cy="975.0371" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="1559,971.7871,1549,975.7871,1559,979.7871,1555,975.7871" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1557" x2="3168.5" y1="975.7871" y2="975.7871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="1559.5" y="934.8379">SET [is_index_primary_key] = 1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="1559.5" y="952.3828">(WHERE rop.has_history = 1 and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1559.5" y="969.9277">source-index is PK)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="3174" y="937.6973"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="3178" y="955.3828">0</text><ellipse cx="2615.5" cy="1024.127" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="2632.5,1020.877,2622.5,1024.877,2632.5,1028.877,2628.5,1024.877" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2630.5" x2="3168.5" y1="1024.877" y2="1024.877"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="2633" y="1001.4727">SET [is_create_constraint] = 1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="2633" y="1019.0176">(WHERE persistence has_history = 1)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="3174" y="995.5596"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="3178" y="1013.2451">0</text><ellipse cx="1542" cy="1086.2168" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1542.5" x2="1584.5" y1="1073.9668" y2="1073.9668"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1584.5" x2="1584.5" y1="1073.9668" y2="1086.9668"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1547.5" x2="1584.5" y1="1086.9668" y2="1086.9668"/><polygon fill="#A80036" points="1557.5,1082.9668,1547.5,1086.9668,1557.5,1090.9668,1553.5,1086.9668" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="1549.5" y="1050.5625">SET [is_index_unique] = 1 (each PK is</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="1549.5" y="1068.1074">also [is_index_unique])</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="1779" y="1051.1494"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1783" y="1068.835">0</text><ellipse cx="3019" cy="1170.3965" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="3002,1167.1465,3012,1171.1465,3002,1175.1465,3006,1171.1465" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2262.5" x2="3008" y1="1171.1465" y2="1171.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="2269.5" y="1112.6523">SET [pk_index_guid] =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="2269.5" y="1130.1973">[pk].[index_guid] (WHERE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="2269.5" y="1147.7422">[is_index_primary_key] = 1 and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="2269.5" y="1165.2871">[RowNumber_PkPerParentObject] = 1)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="3024" y="1124.2842"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="3028" y="1141.9697">0</text><ellipse cx="1542" cy="1237.0313" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="1559,1233.7813,1549,1237.7813,1559,1241.7813,1555,1237.7813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1557" x2="3018.5" y1="1237.7813" y2="1237.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="1559.5" y="1196.832">SET [is_index_primary_key] = 0</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="1559.5" y="1214.377">(where it is not a PK in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="1559.5" y="1231.9219">[repo].[RepoObject])</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="3024" y="1199.6914"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="3028" y="1217.377">0</text><ellipse cx="1542" cy="1286.1211" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="1559,1282.8711,1549,1286.8711,1559,1290.8711,1555,1286.8711" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1557" x2="3018.5" y1="1286.8711" y2="1286.8711"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="1559.5" y="1263.4668">SET [iv].[index_name] WHERE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="1559.5" y="1281.0117">[iv].[index_name] IS NULL</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="3024" y="1257.5537"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="3028" y="1275.2393">2</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3245.5" x="0" y="1316.6436"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3245.5" y1="1316.6436" y2="1316.6436"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3245.5" y1="1319.6436" y2="1319.6436"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="25.5449" style="stroke:#000000;stroke-width:2.0;" width="223" x="1511.25" y="1304.8711"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="205" x="1517.25" y="1322.5566">[repo].[usp_index_inheritance] - end</text><!--MD5=[1bdbb9a896c0ea392aaeb9ecb8b05802]
@startuml
skinparam maxmessagesize 220
== [repo].[usp_index_inheritance] - start ==


== [repo].[usp_PERSIST_IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T] - start ==

?->x "[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T]" : truncate persistence target
rnote right:0
"[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing]" -> "[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T]" : insert all
rnote right:147

== [repo].[usp_PERSIST_IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T] - end ==

"[repo].[IndexReferencedReferencing_HasFullColumnsInReferencing]" ->x "[repo].[Index_virtual]" : DELETE (referenced index is missing)
rnote right:2
"[repo].[IndexReferencedReferencing_HasFullColumnsInReferencing]" -> "[repo].[Index_virtual]" : INSERT (Index which should be inherited in referenced, but not yet referenced)
rnote right:2
"[repo].[IndexColumn_virtual_referenced_setpoint]" ->x "[repo].[IndexColumn_virtual]" : DELETE (where entries are missing in setpoint)
rnote right:0
"[repo].[IndexColumn_virtual_referenced_setpoint]" -> "[repo].[IndexColumn_virtual]" : INSERT missing
rnote right:4
"[repo].[Index_gross]" ->x "[repo].[Index_virtual]" : DELETE duplicates by pattern
rnote right:7
"[repo].[IndexColumn_virtual_referenced_setpoint]" ->O "[repo].[IndexColumn_virtual]" : SET [RepoObjectColumn_guid] = [setpoint].[referencing_RepoObjectColumn_guid], [is_descending_key] = [setpoint].[is_descending_key]
rnote right:4

== [repo].[usp_Index_Settings] - start ==

"[repo].[Index_IndexPattern]" ->x "[repo].[Index_Settings]" : DELETE
rnote right:9
"[repo].[Index_IndexPattern]" -> "[repo].[Index_Settings]" : INSERT
rnote right:2
"[repo].[Index_IndexPattern]" ->O "[repo].[Index_Settings]" : UPDATE
rnote right:4

== [repo].[usp_Index_Settings] - end ==

"[repo].[Index_IndexSemanticGroup]" ->O "[repo].[Index_IndexSemanticGroup]" : SET [IndexSemanticGroup] = [TSource].[IndexSemanticGroup]
rnote right:2
"[repo].[RepoObject]" ->O "[repo].[Index_virtual]" : SET [is_index_primary_key] = 1, [is_index_unique] = 1 (propagate PK from [repo].[RepoObject] into [repo].[Index_virtual])
rnote right:0
"[repo].[Index_union]" ->O "[repo].[Index_virtual]" : SET [is_index_primary_key] = 1 (WHERE rop.has_history = 1 and source-index is PK)
rnote right:0
"[repo].[Index_union]" ->O "[repo].[Index_Settings]" : SET [is_create_constraint] = 1 (WHERE persistence has_history = 1)
rnote right:0
"[repo].[Index_virtual]" ->O "[repo].[Index_virtual]" : SET [is_index_unique] = 1 (each PK is also [is_index_unique])
rnote right:0
"[repo].[Index_gross]" ->O "[repo].[RepoObject]" : SET [pk_index_guid] = [pk].[index_guid] (WHERE [is_index_primary_key] = 1 and [RowNumber_PkPerParentObject] = 1)
rnote right:0
"[repo].[RepoObject]" ->O "[repo].[Index_virtual]" : SET [is_index_primary_key] = 0 (where it is not a PK in [repo].[RepoObject])
rnote right:0
"[repo].[RepoObject]" ->O "[repo].[Index_virtual]" : SET [iv].[index_name] WHERE [iv].[index_name] IS NULL
rnote right:2

== [repo].[usp_index_inheritance] - end ==
@enduml

PlantUML version 1.2021.01(Tue Feb 02 07:55:08 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>