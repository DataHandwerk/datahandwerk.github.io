<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1304px" preserveAspectRatio="none" style="width:3270px;height:1304px;" version="1.1" viewBox="0 0 3270 1304" width="3270px" zoomAndPan="magnify"><defs><filter height="300%" id="f18yyocwl26979" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="260" x2="260" y1="40.7999" y2="1260.8005"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="771" x2="771" y1="40.7999" y2="1260.8005"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1247" x2="1247" y1="40.7999" y2="1260.8005"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1548" x2="1548" y1="40.7999" y2="1260.8005"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1791" x2="1791" y1="40.7999" y2="1260.8005"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2097.5" x2="2097.5" y1="40.7999" y2="1260.8005"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2273.5" x2="2273.5" y1="40.7999" y2="1260.8005"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2447.5" x2="2447.5" y1="40.7999" y2="1260.8005"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2628.5" x2="2628.5" y1="40.7999" y2="1260.8005"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2835.5" x2="2835.5" y1="40.7999" y2="1260.8005"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3038.5" x2="3038.5" y1="40.7999" y2="1260.8005"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3187.5" x2="3187.5" y1="40.7999" y2="1260.8005"/><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="506" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="492" x="12" y="25.9999">[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="506" x="5" y="1259.8005"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="492" x="12" y="1280.8005">[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="489" x="525" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="475" x="532" y="25.9999">[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="489" x="525" y="1259.8005"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="475" x="532" y="1280.8005">[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="434" x="1028" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="420" x="1035" y="25.9999">[repo].[IndexReferencedReferencing_HasFullColumnsInReferencing]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="434" x="1028" y="1259.8005"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="420" x="1035" y="1280.8005">[repo].[IndexReferencedReferencing_HasFullColumnsInReferencing]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="141" x="1476" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="1483" y="25.9999">[repo].[Index_virtual]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="141" x="1476" y="1259.8005"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="1483" y="1280.8005">[repo].[Index_virtual]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="317" x="1631" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="1638" y="25.9999">[repo].[IndexColumn_virtual_referenced_setpoint]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="317" x="1631" y="1259.8005"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="1638" y="1280.8005">[repo].[IndexColumn_virtual_referenced_setpoint]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="188" x="2001.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="2008.5" y="25.9999">[repo].[IndexColumn_virtual]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="188" x="2001.5" y="1259.8005"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="2008.5" y="1280.8005">[repo].[IndexColumn_virtual]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="137" x="2203.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="2210.5" y="25.9999">[repo].[Index_gross]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="137" x="2203.5" y="1259.8005"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="2210.5" y="1280.8005">[repo].[Index_gross]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="182" x="2354.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="2361.5" y="25.9999">[repo].[Index_IndexPattern]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="182" x="2354.5" y="1259.8005"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="2361.5" y="1280.8005">[repo].[Index_IndexPattern]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="153" x="2550.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="2557.5" y="25.9999">[repo].[Index_Settings]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="153" x="2550.5" y="1259.8005"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="2557.5" y="1280.8005">[repo].[Index_Settings]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="233" x="2717.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219" x="2724.5" y="25.9999">[repo].[Index_IndexSemanticGroup]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="233" x="2717.5" y="1259.8005"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219" x="2724.5" y="1280.8005">[repo].[Index_IndexSemanticGroup]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="133" x="2970.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="2977.5" y="25.9999">[repo].[RepoObject]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="133" x="2970.5" y="1259.8005"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="2977.5" y="1280.8005">[repo].[RepoObject]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="137" x="3117.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="3124.5" y="25.9999">[repo].[Index_union]</text><rect fill="#FEFECE" filter="url(#f18yyocwl26979)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="137" x="3117.5" y="1259.8005"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="3124.5" y="1280.8005">[repo].[Index_union]</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3263.5" x="0" y="71.5999"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3263.5" y1="71.5999" y2="71.5999"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3263.5" y1="74.5999" y2="74.5999"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="23.6" style="stroke:#000000;stroke-width:2.0;" width="248" x="1507.75" y="60.7999"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="230" x="1513.75" y="77.7999">[repo].[usp_index_inheritance] - start</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3263.5" x="0" y="115.1999"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3263.5" y1="115.1999" y2="115.1999"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3263.5" y1="118.1999" y2="118.1999"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="23.6" style="stroke:#000000;stroke-width:2.0;" width="655" x="1304.25" y="104.3999"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="637" x="1310.25" y="121.4">[repo].[usp_PERSIST_IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T] - start</text><line style="stroke:#A80036;stroke-width:2.0;" x1="242" x2="252" y1="159.6" y2="169.6"/><line style="stroke:#A80036;stroke-width:2.0;" x1="242" x2="252" y1="169.6" y2="159.6"/><line style="stroke:#A80036;stroke-width:1.0;" x1="85" x2="247" y1="164.6" y2="164.6"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="92" y="160">truncate persistence target</text><path d="M265,143 L265,168 L293,168 L293,153 L283,143 L265,143 " fill="#FBFB77" filter="url(#f18yyocwl26979)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M283,143 L283,153 L293,153 L283,143 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="271" y="161">0</text><polygon fill="#A80036" points="271,197.2,261,201.2,271,205.2,267,201.2" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="265" x2="770.5" y1="201.2" y2="201.2"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="277" y="196.6">insert all</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="29" x="776" y="182.6"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="780" y="199.6">147</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3263.5" x="0" y="232"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3263.5" y1="232" y2="232"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3263.5" y1="235" y2="235"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="23.6" style="stroke:#000000;stroke-width:2.0;" width="652" x="1305.75" y="221.2"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="634" x="1311.75" y="238.2">[repo].[usp_PERSIST_IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T] - end</text><line style="stroke:#A80036;stroke-width:2.0;" x1="1530.5" x2="1540.5" y1="273.4" y2="283.4"/><line style="stroke:#A80036;stroke-width:2.0;" x1="1530.5" x2="1540.5" y1="283.4" y2="273.4"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1247" x2="1535.5" y1="278.4" y2="278.4"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="1254" y="273.8">DELETE (referenced index is missing)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="1553" y="259.8"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="1557" y="276.8">2</text><polygon fill="#A80036" points="1536.5,337.2001,1546.5,341.2001,1536.5,345.2001,1540.5,341.2001" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1247" x2="1542.5" y1="341.2001" y2="341.2001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="1254" y="305.4">INSERT (Index which should be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="1254" y="321">inherited in referenced, but not yet</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="1254" y="336.6">referenced)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="1553" y="307"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="1557" y="324">2</text><line style="stroke:#A80036;stroke-width:2.0;" x1="2079.5" x2="2089.5" y1="381.4001" y2="391.4001"/><line style="stroke:#A80036;stroke-width:2.0;" x1="2079.5" x2="2089.5" y1="391.4001" y2="381.4001"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1791.5" x2="2084.5" y1="386.4001" y2="386.4001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="1798.5" y="366.2001">DELETE (where entries are missing in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="1798.5" y="381.8001">setpoint)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="2102" y="360.0001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="2106" y="377.0001">0</text><polygon fill="#A80036" points="2085.5,414.0001,2095.5,418.0001,2085.5,422.0001,2089.5,418.0001" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1791.5" x2="2091.5" y1="418.0001" y2="418.0001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="1798.5" y="413.4001">INSERT missing</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="2102" y="399.4001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="2106" y="416.4001">4</text><line style="stroke:#A80036;stroke-width:2.0;" x1="1554.5" x2="1564.5" y1="446.6001" y2="456.6001"/><line style="stroke:#A80036;stroke-width:2.0;" x1="1554.5" x2="1564.5" y1="456.6001" y2="446.6001"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1560.5" x2="2273" y1="451.6001" y2="451.6001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="1565.5" y="447.0001">DELETE duplicates by pattern</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="2279" y="433.0001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="2283" y="450.0001">7</text><ellipse cx="2097" cy="529.2502" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="2080,526.0002,2090,530.0002,2080,534.0002,2084,530.0002" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1791.5" x2="2086" y1="530.0002" y2="530.0002"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="1798.5" y="478.6001">SET [RepoObjectColumn_guid] =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="1798.5" y="494.2001">[setpoint].[referencing_RepoObjectColumn_guid],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="1798.5" y="509.8001">[is_descending_key] =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="1798.5" y="525.4002">[setpoint].[is_descending_key]</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="2102" y="488.0001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="2106" y="505.0001">4</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3263.5" x="0" y="558.8002"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3263.5" y1="558.8002" y2="558.8002"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3263.5" y1="561.8002" y2="561.8002"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="23.6" style="stroke:#000000;stroke-width:2.0;" width="229" x="1517.25" y="548.0002"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="211" x="1523.25" y="565.0002">[repo].[usp_Index_Settings] - start</text><line style="stroke:#A80036;stroke-width:2.0;" x1="2611" x2="2621" y1="600.2002" y2="610.2002"/><line style="stroke:#A80036;stroke-width:2.0;" x1="2611" x2="2621" y1="610.2002" y2="600.2002"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2447.5" x2="2616" y1="605.2002" y2="605.2002"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="2454.5" y="600.6002">DELETE</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="2634" y="586.6002"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="2638" y="603.6002">9</text><polygon fill="#A80036" points="2617,634.8002,2627,638.8002,2617,642.8002,2621,638.8002" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2447.5" x2="2623" y1="638.8002" y2="638.8002"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="2454.5" y="634.2002">INSERT</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="2634" y="620.2002"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="2638" y="637.2002">2</text><ellipse cx="2628.5" cy="671.6502" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="2611.5,668.4002,2621.5,672.4002,2611.5,676.4002,2615.5,672.4002" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2447.5" x2="2617.5" y1="672.4002" y2="672.4002"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="2454.5" y="667.8002">UPDATE</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="2634" y="653.8002"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="2638" y="670.8002">4</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3263.5" x="0" y="703.2002"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3263.5" y1="703.2002" y2="703.2002"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3263.5" y1="706.2002" y2="706.2002"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="23.6" style="stroke:#000000;stroke-width:2.0;" width="226" x="1518.75" y="692.4002"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="208" x="1524.75" y="709.4002">[repo].[usp_Index_Settings] - end</text><ellipse cx="2835.5" cy="775.4503" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="2836" x2="2878" y1="763.2003" y2="763.2003"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="2878" x2="2878" y1="763.2003" y2="776.2003"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="2841" x2="2878" y1="776.2003" y2="776.2003"/><polygon fill="#A80036" points="2851,772.2003,2841,776.2003,2851,780.2003,2847,776.2003" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="2843" y="743.0002">SET [IndexSemanticGroup] =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="2843" y="758.6003">[TSource].[IndexSemanticGroup]</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="3044" y="743.3002"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="3048" y="760.3002">2</text><ellipse cx="1548" cy="851.8503" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="1565,848.6003,1555,852.6003,1565,856.6003,1561,852.6003" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1563" x2="3038" y1="852.6003" y2="852.6003"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="1565.5" y="801.2003">SET [is_index_primary_key] = 1,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="1565.5" y="816.8003">[is_index_unique] = 1 (propagate PK</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="1565.5" y="832.4003">from [repo].[RepoObject] into</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="1565.5" y="848.0003">[repo].[Index_virtual])</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="3044" y="810.6003"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="3048" y="827.6003">0</text><ellipse cx="1548" cy="912.6504" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="1565,909.4004,1555,913.4004,1565,917.4004,1561,913.4004" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1563" x2="3187" y1="913.4004" y2="913.4004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="1565.5" y="877.6003">SET [is_index_primary_key] = 1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="1565.5" y="893.2003">(WHERE rop.has_history = 1 and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1565.5" y="908.8004">source-index is PK)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="3193" y="879.2003"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="3197" y="896.2003">0</text><ellipse cx="2628.5" cy="957.8504" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="2645.5,954.6004,2635.5,958.6004,2645.5,962.6004,2641.5,958.6004" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2643.5" x2="3187" y1="958.6004" y2="958.6004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="2646" y="938.4004">SET [is_create_constraint] = 1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="2646" y="954.0004">(WHERE persistence has_history = 1)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="3193" y="932.2004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="3197" y="949.2004">0</text><ellipse cx="1548" cy="1016.0504" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="1548.5" x2="1590.5" y1="1003.8004" y2="1003.8004"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="1590.5" x2="1590.5" y1="1003.8004" y2="1016.8004"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="1553.5" x2="1590.5" y1="1016.8004" y2="1016.8004"/><polygon fill="#A80036" points="1563.5,1012.8004,1553.5,1016.8004,1563.5,1020.8004,1559.5,1016.8004" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="1555.5" y="983.6004">SET [is_index_unique] = 1 (each PK is</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="1555.5" y="999.2004">also [is_index_unique])</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="1786" y="983.9004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="1790" y="1000.9004">0</text><ellipse cx="3038.5" cy="1108.0505" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="3021.5,1104.8005,3031.5,1108.8005,3021.5,1112.8005,3025.5,1108.8005" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2274" x2="3027.5" y1="1108.8005" y2="1108.8005"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="2281" y="1041.8004">SET [pk_index_guid] =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="2281" y="1057.4004">[pk].[index_guid] (WHERE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="2281" y="1073.0004">[is_index_primary_key] = 1 and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="2281" y="1088.6005">[RowNumber_PkPerParentObject] =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="2281" y="1104.2005">1)</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="3044" y="1059.0004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="3048" y="1076.0004">0</text><ellipse cx="1548" cy="1153.2505" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="1565,1150.0005,1555,1154.0005,1565,1158.0005,1561,1154.0005" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1563" x2="3038" y1="1154.0005" y2="1154.0005"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220" x="1565.5" y="1133.8005">SET [is_index_primary_key] = 0 (where</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="1565.5" y="1149.4005">it is not a PK in [repo].[RepoObject])</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="3044" y="1127.6005"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="3048" y="1144.6005">0</text><ellipse cx="1548" cy="1198.4505" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="1565,1195.2005,1555,1199.2005,1565,1203.2005,1561,1199.2005" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1563" x2="3038" y1="1199.2005" y2="1199.2005"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="1565.5" y="1179.0005">SET [iv].[index_name] WHERE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="1565.5" y="1194.6005">[iv].[index_name] IS NULL</text><rect fill="#FBFB77" filter="url(#f18yyocwl26979)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="3044" y="1172.8005"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="3048" y="1189.8005">2</text><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3263.5" x="0" y="1228.0005"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3263.5" y1="1228.0005" y2="1228.0005"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3263.5" y1="1231.0005" y2="1231.0005"/><rect fill="#EEEEEE" filter="url(#f18yyocwl26979)" height="23.6" style="stroke:#000000;stroke-width:2.0;" width="245" x="1509.25" y="1217.2005"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="227" x="1515.25" y="1234.2005">[repo].[usp_index_inheritance] - end</text><!--MD5=[a45581704e89b48d4ac22b1f734e879b]
@startuml
skinparam maxmessagesize 220
== [repo].[usp_index_inheritance] - start ==


== [repo].[usp_PERSIST_IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T] - start ==

?->x "[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T]" : truncate persistence target
rnote right:0
"[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing]" -> "[repo].[IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T]" : insert all
rnote right:147

== [repo].[usp_PERSIST_IndexColumn_ReferencedReferencing_HasFullColumnsInReferencing_T] - end ==

"[repo].[IndexReferencedReferencing_HasFullColumnsInReferencing]" ->x "[repo].[Index_virtual]" : DELETE (referenced index is missing)
rnote right:2
"[repo].[IndexReferencedReferencing_HasFullColumnsInReferencing]" -> "[repo].[Index_virtual]" : INSERT (Index which should be inherited in referenced, but not yet referenced)
rnote right:2
"[repo].[IndexColumn_virtual_referenced_setpoint]" ->x "[repo].[IndexColumn_virtual]" : DELETE (where entries are missing in setpoint)
rnote right:0
"[repo].[IndexColumn_virtual_referenced_setpoint]" -> "[repo].[IndexColumn_virtual]" : INSERT missing
rnote right:4
"[repo].[Index_gross]" ->x "[repo].[Index_virtual]" : DELETE duplicates by pattern
rnote right:7
"[repo].[IndexColumn_virtual_referenced_setpoint]" ->O "[repo].[IndexColumn_virtual]" : SET [RepoObjectColumn_guid] = [setpoint].[referencing_RepoObjectColumn_guid], [is_descending_key] = [setpoint].[is_descending_key]
rnote right:4

== [repo].[usp_Index_Settings] - start ==

"[repo].[Index_IndexPattern]" ->x "[repo].[Index_Settings]" : DELETE
rnote right:9
"[repo].[Index_IndexPattern]" -> "[repo].[Index_Settings]" : INSERT
rnote right:2
"[repo].[Index_IndexPattern]" ->O "[repo].[Index_Settings]" : UPDATE
rnote right:4

== [repo].[usp_Index_Settings] - end ==

"[repo].[Index_IndexSemanticGroup]" ->O "[repo].[Index_IndexSemanticGroup]" : SET [IndexSemanticGroup] = [TSource].[IndexSemanticGroup]
rnote right:2
"[repo].[RepoObject]" ->O "[repo].[Index_virtual]" : SET [is_index_primary_key] = 1, [is_index_unique] = 1 (propagate PK from [repo].[RepoObject] into [repo].[Index_virtual])
rnote right:0
"[repo].[Index_union]" ->O "[repo].[Index_virtual]" : SET [is_index_primary_key] = 1 (WHERE rop.has_history = 1 and source-index is PK)
rnote right:0
"[repo].[Index_union]" ->O "[repo].[Index_Settings]" : SET [is_create_constraint] = 1 (WHERE persistence has_history = 1)
rnote right:0
"[repo].[Index_virtual]" ->O "[repo].[Index_virtual]" : SET [is_index_unique] = 1 (each PK is also [is_index_unique])
rnote right:0
"[repo].[Index_gross]" ->O "[repo].[RepoObject]" : SET [pk_index_guid] = [pk].[index_guid] (WHERE [is_index_primary_key] = 1 and [RowNumber_PkPerParentObject] = 1)
rnote right:0
"[repo].[RepoObject]" ->O "[repo].[Index_virtual]" : SET [is_index_primary_key] = 0 (where it is not a PK in [repo].[RepoObject])
rnote right:0
"[repo].[RepoObject]" ->O "[repo].[Index_virtual]" : SET [iv].[index_name] WHERE [iv].[index_name] IS NULL
rnote right:2

== [repo].[usp_index_inheritance] - end ==
@enduml

PlantUML version 1.2021.4(Sun Apr 04 08:49:39 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>