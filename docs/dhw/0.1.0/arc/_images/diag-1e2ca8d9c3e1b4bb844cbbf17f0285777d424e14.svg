<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1356px" preserveAspectRatio="none" style="width:1626px;height:1356px;" version="1.1" viewBox="0 0 1626 1356" width="1626px" zoomAndPan="magnify"><defs><filter height="300%" id="f4uuwr2n3sg98" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="87" x2="87" y1="40.7999" y2="1313.0006"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="521" x2="521" y1="40.7999" y2="1313.0006"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="845.5" x2="845.5" y1="40.7999" y2="1313.0006"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1069.5" x2="1069.5" y1="40.7999" y2="1313.0006"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1291.5" x2="1291.5" y1="40.7999" y2="1313.0006"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1517" x2="1517" y1="40.7999" y2="1313.0006"/><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="160" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="12" y="25.9999">[repo_sys].[SysColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="160" x="5" y="1312.0006"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="12" y="1333.0006">[repo_sys].[SysColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="180" x="429" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="436" y="25.9999">[repo].[RepoObjectColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="180" x="429" y="1312.0006"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166" x="436" y="1333.0006">[repo].[RepoObjectColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="211" x="738.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="745.5" y="25.9999">[repo].[RepoObject_persistence]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="211" x="738.5" y="1312.0006"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="745.5" y="1333.0006">[repo].[RepoObject_persistence]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="209" x="963.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="970.5" y="25.9999">[repo_sys].[RepoObjectColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="209" x="963.5" y="1312.0006"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="970.5" y="1333.0006">[repo_sys].[RepoObjectColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="207" x="1186.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193" x="1193.5" y="25.9999">[graph].[RepoObjectColumn_S]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="207" x="1186.5" y="1312.0006"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193" x="1193.5" y="1333.0006">[graph].[RepoObjectColumn_S]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="190" x="1420" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="1427" y="25.9999">[graph].[RepoObjectColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="30.7999" style="stroke:#A80036;stroke-width:1.5;" width="190" x="1420" y="1312.0006"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="1427" y="1333.0006">[graph].[RepoObjectColumn]</text><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1619" x="0" y="71.5999"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1619" y1="71.5999" y2="71.5999"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1619" y1="74.5999" y2="74.5999"/><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="23.6" style="stroke:#000000;stroke-width:2.0;" width="329" x="645" y="60.7999"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="311" x="651" y="77.7999">[repo].[usp_sync_guid_RepoObjectColumn] - start</text><ellipse cx="520.5" cy="130.85" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="503.5,127.6,513.5,131.6,503.5,135.6,507.5,131.6" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="87" x2="509.5" y1="131.6" y2="131.6"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="94" y="111.4">UPDATE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="410" x="94" y="127">repo_sys.SysColumn_RepoObjectColumn_via_RepoObjectColumn_guid</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="29" x="526" y="105.1999"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="530" y="122.2">150</text><ellipse cx="520.5" cy="204.65" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="521" x2="563" y1="192.4" y2="192.4"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="563" x2="563" y1="192.4" y2="205.4"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="526" x2="563" y1="205.4" y2="205.4"/><polygon fill="#A80036" points="536,201.4,526,205.4,536,209.4,532,205.4" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="528" y="156.6">SET [SysObjectColumn_name] =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="528" y="172.2">[RepoObjectColumn_guid] (to avoid</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="528" y="187.8">conflict in the next INSERT step)</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="745" y="164.7"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="749" y="181.7">0</text><polygon fill="#A80036" points="509,277.8001,519,281.8001,509,285.8001,513,281.8001" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="87" x2="515" y1="281.8001" y2="281.8001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="94" y="230.4">[SysObject_RepoObjectColumn_guid]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="94" y="246">-&gt; [RepoObjectColumn_guid]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="94" y="261.6">([RepoObjectColumn_guid] is stored in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="94" y="277.2001">extended properties)</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="526" y="239.8"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="530" y="256.8">0</text><line style="stroke:#A80036;stroke-width:2.0;" x1="503" x2="513" y1="353.2001" y2="363.2001"/><line style="stroke:#A80036;stroke-width:2.0;" x1="503" x2="513" y1="363.2001" y2="353.2001"/><line style="stroke:#A80036;stroke-width:1.0;" x1="87" x2="508" y1="358.2001" y2="358.2001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="94" y="306.8001">DELETE repo.RepoObjectColumn,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="94" y="322.4001">WHERE (RowNumberOverName &gt; 1);</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="94" y="338.0001">via</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="290" x="94" y="353.6001">[repo].[SysColumn_RepoObjectColumn_via_name]</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="526" y="316.2001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="530" y="333.2001">0</text><polygon fill="#A80036" points="509,385.8001,519,389.8001,509,393.8001,513,389.8001" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="87" x2="515" y1="389.8001" y2="389.8001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="94" y="385.2001">INSERT still missing Column</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="29" x="526" y="371.2001"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="530" y="388.2001">144</text><ellipse cx="520.5" cy="480.4502" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="521" x2="563" y1="468.2002" y2="468.2002"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="563" x2="563" y1="468.2002" y2="481.2002"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="526" x2="563" y1="481.2002" y2="481.2002"/><polygon fill="#A80036" points="536,477.2002,526,481.2002,536,485.2002,532,481.2002" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="528" y="416.8001">SET [RepoObjectColumn_name] =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="528" y="432.4002">[SysObjectColumn_name] WHERE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="528" y="448.0002">(has_different_sys_names = 1) AND</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="528" y="463.6002">(ISNULL(is_repo_managed, 0) = 0)</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="29" x="746" y="432.7002"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="750" y="449.7002">144</text><ellipse cx="520.5" cy="525.6502" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="503.5,522.4002,513.5,526.4002,503.5,530.4002,507.5,526.4002" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="87" x2="509.5" y1="526.4002" y2="526.4002"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="94" y="506.2002">other properties, where</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="94" y="521.8002">(ISNULL(is_repo_managed, 0) = 0)</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="526" y="500.0002"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="530" y="517.0002">2</text><ellipse cx="520.5" cy="602.0503" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="503.5,598.8003,513.5,602.8003,503.5,606.8003,507.5,602.8003" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="87" x2="509.5" y1="602.8003" y2="602.8003"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="94" y="551.4002">persistence: update</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="94" y="567.0002">RepoObjectColumn_name and repo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="94" y="582.6003">attributes from sys attributes of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="94" y="598.2003">persistence_source_RepoObjectColumn_guid</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="526" y="560.8002"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="530" y="577.8002">0</text><ellipse cx="520.5" cy="707.0503" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="521" x2="563" y1="694.8003" y2="694.8003"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="563" x2="563" y1="694.8003" y2="707.8003"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="526" x2="563" y1="707.8003" y2="707.8003"/><polygon fill="#A80036" points="536,703.8003,526,707.8003,536,711.8003,532,707.8003" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="528" y="627.8003">persistence:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="528" y="643.4003">[roc_p].[persistence_source_RepoObjectColumn_guid]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="528" y="659.0003">= [roc_s].[RepoObjectColumn_guid]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="528" y="674.6003">(matching by column name via</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="528" y="690.2003">[repo].[RepoObject_persistence])</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="851" y="651.5003"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="855" y="668.5003">0</text><line style="stroke:#A80036;stroke-width:1.0;" x1="521" x2="563" y1="753.0004" y2="753.0004"/><line style="stroke:#A80036;stroke-width:1.0;" x1="563" x2="563" y1="753.0004" y2="766.0004"/><line style="stroke:#A80036;stroke-width:1.0;" x1="522" x2="563" y1="766.0004" y2="766.0004"/><polygon fill="#A80036" points="532,762.0004,522,766.0004,532,770.0004,528,766.0004" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="528" y="732.8004">persistence: add missing persistence</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="528" y="748.4004">columns existing in source</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="749" y="733.1003"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="753" y="750.1004">0</text><polygon fill="#A80036" points="532,807.2004,522,811.2004,532,815.2004,528,811.2004" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="526" x2="845" y1="811.2004" y2="811.2004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="538" y="791.0004">persistence: insert missing</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="538" y="806.6004">HistValidColumns</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="851" y="784.8004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="855" y="801.8004">0</text><ellipse cx="520.5" cy="884.2504" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="521" x2="563" y1="872.0004" y2="872.0004"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="563" x2="563" y1="872.0004" y2="885.0004"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;" x1="526" x2="563" y1="885.0004" y2="885.0004"/><polygon fill="#A80036" points="536,881.0004,526,885.0004,536,889.0004,532,885.0004" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="528" y="836.2004">persistence: SET</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268" x="528" y="851.8004">[persistence_source_RepoObjectColumn_guid]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="528" y="867.4004">= NULL (missing source column)</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="36" x="808" y="844.3004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="812" y="861.3004">2076</text><polygon fill="#A80036" points="98,941.8005,88,945.8005,98,949.8005,94,945.8005" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="92" x2="520" y1="945.8005" y2="945.8005"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="104" y="910.0004">write RepoObjectColumn_guid into</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="104" y="925.6005">extended properties of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="104" y="941.2005">SysObjectColumn, Level2</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="8" style="stroke:#A80036;stroke-width:1.0;" width="8" x="526" y="919.4005"/><ellipse cx="520.5" cy="990.2505" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="503.5,987.0005,513.5,991.0005,503.5,995.0005,507.5,991.0005" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="87" x2="509.5" y1="991.0005" y2="991.0005"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="94" y="970.8005">SET [is_SysObjectColumn_missing] =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="94" y="986.4005">1</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="526" y="964.6005"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="530" y="981.6005">0</text><line style="stroke:#A80036;stroke-width:2.0;" x1="527" x2="537" y1="1046.8005" y2="1056.8005"/><line style="stroke:#A80036;stroke-width:2.0;" x1="527" x2="537" y1="1056.8005" y2="1046.8005"/><line style="stroke:#A80036;stroke-width:1.0;" x1="533" x2="1069" y1="1051.8005" y2="1051.8005"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="538" y="1016.0005">where is_SysObjectColumn_missing =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="538" y="1031.6005">1, but not in objects which are</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="538" y="1047.2005">is_repo_managed</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="1075" y="1017.6005"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="1079" y="1034.6005">0</text><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1619" x="0" y="1080.6006"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1619" y1="1080.6006" y2="1080.6006"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1619" y1="1083.6006" y2="1083.6006"/><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="23.6" style="stroke:#000000;stroke-width:2.0;" width="329" x="645" y="1069.8005"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="311" x="651" y="1086.8006">[graph].[usp_PERSIST_RepoObjectColumn] - start</text><line style="stroke:#A80036;stroke-width:2.0;" x1="1499" x2="1509" y1="1135.6006" y2="1145.6006"/><line style="stroke:#A80036;stroke-width:2.0;" x1="1499" x2="1509" y1="1145.6006" y2="1135.6006"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1292" x2="1504" y1="1140.6006" y2="1140.6006"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="1299" y="1120.4006">delete persistence target missing in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="1299" y="1136.0006">source</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="1522" y="1114.2006"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="1526" y="1131.2006">0</text><ellipse cx="1516.5" cy="1171.4506" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="1499.5,1168.2006,1509.5,1172.2006,1499.5,1176.2006,1503.5,1172.2006" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1292" x2="1505.5" y1="1172.2006" y2="1172.2006"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1299" y="1167.6006">update changed</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="15" x="1522" y="1153.6006"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="1526" y="1170.6006">0</text><polygon fill="#A80036" points="1505,1201.8006,1515,1205.8006,1505,1209.8006,1509,1205.8006" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1292" x2="1511" y1="1205.8006" y2="1205.8006"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="1299" y="1201.2006">insert missing</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="23" style="stroke:#A80036;stroke-width:1.0;" width="29" x="1522" y="1187.2006"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="1526" y="1204.2006">144</text><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1619" x="0" y="1236.6006"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1619" y1="1236.6006" y2="1236.6006"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1619" y1="1239.6006" y2="1239.6006"/><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="23.6" style="stroke:#000000;stroke-width:2.0;" width="326" x="646.5" y="1225.8006"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="308" x="652.5" y="1242.8006">[graph].[usp_PERSIST_RepoObjectColumn] - end</text><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1619" x="0" y="1280.2006"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1619" y1="1280.2006" y2="1280.2006"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1619" y1="1283.2006" y2="1283.2006"/><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="23.6" style="stroke:#000000;stroke-width:2.0;" width="326" x="646.5" y="1269.4006"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="308" x="652.5" y="1286.4006">[repo].[usp_sync_guid_RepoObjectColumn] - end</text><!--MD5=[35cdb8e6b1f32a2d708e3d3548f1328d]
@startuml
skinparam maxmessagesize 220

== [repo].[usp_sync_guid_RepoObjectColumn] - start ==

"[repo_sys].[SysColumn]" ->O "[repo].[RepoObjectColumn]" : UPDATE repo_sys.SysColumn_RepoObjectColumn_via_RepoObjectColumn_guid
rnote right:150
"[repo].[RepoObjectColumn]" ->O "[repo].[RepoObjectColumn]" : SET [SysObjectColumn_name] = [RepoObjectColumn_guid] (to avoid conflict in the next INSERT step)
rnote right:0
"[repo_sys].[SysColumn]" -> "[repo].[RepoObjectColumn]" : [SysObject_RepoObjectColumn_guid] -> [RepoObjectColumn_guid] ([RepoObjectColumn_guid] is stored in extended properties)
rnote right:0
"[repo_sys].[SysColumn]" ->x "[repo].[RepoObjectColumn]" : DELETE repo.RepoObjectColumn, WHERE (RowNumberOverName > 1); via [repo].[SysColumn_RepoObjectColumn_via_name]
rnote right:0
"[repo_sys].[SysColumn]" -> "[repo].[RepoObjectColumn]" : INSERT still missing Column
rnote right:144
"[repo].[RepoObjectColumn]" ->O "[repo].[RepoObjectColumn]" : SET [RepoObjectColumn_name] = [SysObjectColumn_name] WHERE (has_different_sys_names = 1) AND (ISNULL(is_repo_managed, 0) = 0)
rnote right:144
"[repo_sys].[SysColumn]" ->O "[repo].[RepoObjectColumn]" : other properties, where (ISNULL(is_repo_managed, 0) = 0)
rnote right:2
"[repo_sys].[SysColumn]" ->O "[repo].[RepoObjectColumn]" : persistence: update RepoObjectColumn_name and repo attributes from sys attributes of persistence_source_RepoObjectColumn_guid
rnote right:0
"[repo].[RepoObjectColumn]" ->O "[repo].[RepoObjectColumn]" : persistence: [roc_p].[persistence_source_RepoObjectColumn_guid] = [roc_s].[RepoObjectColumn_guid] (matching by column name via [repo].[RepoObject_persistence])
rnote right:0
"[repo].[RepoObjectColumn]" -> "[repo].[RepoObjectColumn]" : persistence: add missing persistence columns existing in source
rnote right:0
"[repo].[RepoObject_persistence]" -> "[repo].[RepoObjectColumn]" : persistence: insert missing HistValidColumns
rnote right:0
"[repo].[RepoObjectColumn]" ->O "[repo].[RepoObjectColumn]" : persistence: SET [persistence_source_RepoObjectColumn_guid] = NULL (missing source column)
rnote right:2076
"[repo].[RepoObjectColumn]" - -> "[repo_sys].[SysColumn]" : write RepoObjectColumn_guid into extended properties of SysObjectColumn, Level2
rnote right:
"[repo_sys].[SysColumn]" ->O "[repo].[RepoObjectColumn]" : SET [is_SysObjectColumn_missing] = 1
rnote right:0
"[repo_sys].[RepoObjectColumn]" ->x "[repo].[RepoObjectColumn]" : where is_SysObjectColumn_missing = 1, but not in objects which are is_repo_managed
rnote right:0

== [graph].[usp_PERSIST_RepoObjectColumn] - start ==

"[graph].[RepoObjectColumn_S]" ->x "[graph].[RepoObjectColumn]" : delete persistence target missing in source
rnote right:0
"[graph].[RepoObjectColumn_S]" ->O "[graph].[RepoObjectColumn]" : update changed
rnote right:0
"[graph].[RepoObjectColumn_S]" -> "[graph].[RepoObjectColumn]" : insert missing
rnote right:144

== [graph].[usp_PERSIST_RepoObjectColumn] - end ==


== [repo].[usp_sync_guid_RepoObjectColumn] - end ==
@enduml

PlantUML version 1.2021.4(Sun Apr 04 08:49:39 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>