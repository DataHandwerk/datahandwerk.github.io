<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1462px" preserveAspectRatio="none" style="width:1619px;height:1462px;" version="1.1" viewBox="0 0 1619 1462" width="1619px" zoomAndPan="magnify"><defs><filter height="300%" id="f4uuwr2n3sg98" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="86" x2="86" y1="42.8945" y2="1416.2305"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="511.5" x2="511.5" y1="42.8945" y2="1416.2305"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="833.5" x2="833.5" y1="42.8945" y2="1416.2305"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1058.5" x2="1058.5" y1="42.8945" y2="1416.2305"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1278.5" x2="1278.5" y1="42.8945" y2="1416.2305"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1511.5" x2="1511.5" y1="42.8945" y2="1416.2305"/><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="158" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="12" y="26.7383">[repo_sys].[SysColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="158" x="5" y="1415.2305"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144" x="12" y="1436.9688">[repo_sys].[SysColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="181" x="419.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="426.5" y="26.7383">[repo].[RepoObjectColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="181" x="419.5" y="1415.2305"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="426.5" y="1436.9688">[repo].[RepoObjectColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="213" x="725.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="732.5" y="26.7383">[repo].[RepoObject_persistence]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="213" x="725.5" y="1415.2305"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="732.5" y="1436.9688">[repo].[RepoObject_persistence]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="208" x="952.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="959.5" y="26.7383">[repo_sys].[RepoObjectColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="208" x="952.5" y="1415.2305"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="959.5" y="1436.9688">[repo_sys].[RepoObjectColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="204" x="1174.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="1181.5" y="26.7383">[graph].[RepoObjectColumn_S]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="204" x="1174.5" y="1415.2305"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="1181.5" y="1436.9688">[graph].[RepoObjectColumn_S]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="188" x="1415.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="1422.5" y="26.7383">[graph].[RepoObjectColumn]</text><rect fill="#FEFECE" filter="url(#f4uuwr2n3sg98)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="188" x="1415.5" y="1415.2305"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="1422.5" y="1436.9688">[graph].[RepoObjectColumn]</text><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1612.5" x="0" y="74.667"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1612.5" y1="74.667" y2="74.667"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1612.5" y1="77.667" y2="77.667"/><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="25.5449" style="stroke:#000000;stroke-width:2.0;" width="300" x="656.25" y="62.8945"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="282" x="662.25" y="80.5801">[repo].[usp_sync_guid_RepoObjectColumn] - start</text><ellipse cx="511.5" cy="138.7793" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="494.5,135.5293,504.5,139.5293,494.5,143.5293,498.5,139.5293" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="86" x2="500.5" y1="139.5293" y2="139.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="93" y="116.125">UPDATE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="402" x="93" y="133.6699">repo_sys.SysColumn_RepoObjectColumn_via_RepoObjectColumn_guid</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="32" x="517" y="110.2119"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="521" y="127.8975">150</text><ellipse cx="511.5" cy="218.4141" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="512" x2="554" y1="206.1641" y2="206.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="554" x2="554" y1="206.1641" y2="219.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="517" x2="554" y1="219.1641" y2="219.1641"/><polygon fill="#A80036" points="527,215.1641,517,219.1641,527,223.1641,523,219.1641" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="519" y="165.2148">SET [SysObjectColumn_name] =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="519" y="182.7598">[RepoObjectColumn_guid] (to avoid</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="519" y="200.3047">conflict in the next INSERT step)</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="735" y="174.5742"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="739" y="192.2598">0</text><polygon fill="#A80036" points="500,299.3438,510,303.3438,500,307.3438,504,303.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="86" x2="506" y1="303.3438" y2="303.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="93" y="244.8496">[SysObject_RepoObjectColumn_guid]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="93" y="262.3945">-&gt; [RepoObjectColumn_guid]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="93" y="279.9395">([RepoObjectColumn_guid] is stored in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="93" y="297.4844">extended properties)</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="517" y="256.4814"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="521" y="274.167">0</text><line style="stroke:#A80036;stroke-width:2.0;" x1="494" x2="504" y1="382.5234" y2="392.5234"/><line style="stroke:#A80036;stroke-width:2.0;" x1="494" x2="504" y1="392.5234" y2="382.5234"/><line style="stroke:#A80036;stroke-width:1.0;" x1="86" x2="499" y1="387.5234" y2="387.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="93" y="329.0293">DELETE repo.RepoObjectColumn,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="93" y="346.5742">WHERE (RowNumberOverName &gt; 1);</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="93" y="364.1191">via</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285" x="93" y="381.6641">[repo].[SysColumn_RepoObjectColumn_via_name]</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="517" y="340.6611"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="521" y="358.3467">0</text><polygon fill="#A80036" points="500,417.0684,510,421.0684,500,425.0684,504,421.0684" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="86" x2="506" y1="421.0684" y2="421.0684"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="93" y="415.209">INSERT still missing Column</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="32" x="517" y="400.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="521" y="418.209">144</text><ellipse cx="511.5" cy="519.498" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="512" x2="554" y1="507.248" y2="507.248"/><line style="stroke:#A80036;stroke-width:1.0;" x1="554" x2="554" y1="507.248" y2="520.248"/><line style="stroke:#A80036;stroke-width:1.0;" x1="517" x2="554" y1="520.248" y2="520.248"/><polygon fill="#A80036" points="527,516.248,517,520.248,527,524.248,523,520.248" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="519" y="448.7539">SET [RepoObjectColumn_name] =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="519" y="466.2988">[SysObjectColumn_name] WHERE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="519" y="483.8438">(has_different_sys_names = 1) AND</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="519" y="501.3887">(ISNULL(is_repo_managed, 0) = 0)</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="32" x="743" y="466.8857"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="747" y="484.5713">144</text><ellipse cx="511.5" cy="568.5879" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="494.5,565.3379,504.5,569.3379,494.5,573.3379,498.5,569.3379" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="86" x2="500.5" y1="569.3379" y2="569.3379"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="93" y="545.9336">other properties, where</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="93" y="563.4785">(ISNULL(is_repo_managed, 0) = 0)</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="517" y="540.0205"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="521" y="557.7061">2</text><ellipse cx="511.5" cy="652.7676" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="494.5,649.5176,504.5,653.5176,494.5,657.5176,498.5,653.5176" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="86" x2="500.5" y1="653.5176" y2="653.5176"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="93" y="595.0234">persistence: update</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="93" y="612.5684">RepoObjectColumn_name and repo</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="93" y="630.1133">attributes from sys attributes of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="93" y="647.6582">persistence_source_RepoObjectColumn_guid</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="517" y="606.6553"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="521" y="624.3408">0</text><ellipse cx="511.5" cy="767.4922" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="512" x2="554" y1="755.2422" y2="755.2422"/><line style="stroke:#A80036;stroke-width:1.0;" x1="554" x2="554" y1="755.2422" y2="768.2422"/><line style="stroke:#A80036;stroke-width:1.0;" x1="517" x2="554" y1="768.2422" y2="768.2422"/><polygon fill="#A80036" points="527,764.2422,517,768.2422,527,772.2422,523,768.2422" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="519" y="679.2031">persistence:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="519" y="696.748">[roc_p].[persistence_source_RepoObjectColumn_guid]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="519" y="714.293">= [roc_s].[RepoObjectColumn_guid]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="519" y="731.8379">(matching by column name via</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="519" y="749.3828">[repo].[RepoObject_persistence])</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="839" y="706.1074"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="843" y="723.793">0</text><line style="stroke:#A80036;stroke-width:1.0;" x1="512" x2="554" y1="817.332" y2="817.332"/><line style="stroke:#A80036;stroke-width:1.0;" x1="554" x2="554" y1="817.332" y2="830.332"/><line style="stroke:#A80036;stroke-width:1.0;" x1="513" x2="554" y1="830.332" y2="830.332"/><polygon fill="#A80036" points="523,826.332,513,830.332,523,834.332,519,830.332" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="519" y="793.9277">persistence: add missing persistence</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="519" y="811.4727">columns existing in source</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="749" y="794.5146"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="753" y="812.2002">0</text><polygon fill="#A80036" points="523,875.4219,513,879.4219,523,883.4219,519,879.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="517" x2="833" y1="879.4219" y2="879.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="529" y="856.0176">persistence: insert missing</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="529" y="873.5625">HistValidColumns</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="839" y="850.1045"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="843" y="867.79">0</text><ellipse cx="511.5" cy="958.3066" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="512" x2="554" y1="946.0566" y2="946.0566"/><line style="stroke:#A80036;stroke-width:1.0;" x1="554" x2="554" y1="946.0566" y2="959.0566"/><line style="stroke:#A80036;stroke-width:1.0;" x1="517" x2="554" y1="959.0566" y2="959.0566"/><polygon fill="#A80036" points="527,955.0566,517,959.0566,527,963.0566,523,959.0566" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="519" y="905.1074">persistence: SET</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="519" y="922.6523">[persistence_source_RepoObjectColumn_guid]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="519" y="940.1973">= NULL (missing source column)</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="40" x="796" y="914.4668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="800" y="932.1523">2076</text><polygon fill="#A80036" points="97,1021.6914,87,1025.6914,97,1029.6914,93,1025.6914" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="91" x2="511" y1="1025.6914" y2="1025.6914"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="103" y="984.7422">write RepoObjectColumn_guid into</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="103" y="1002.2871">extended properties of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="103" y="1019.832">SysObjectColumn, Level2</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="8" style="stroke:#A80036;stroke-width:1.0;" width="8" x="517" y="996.374"/><ellipse cx="511.5" cy="1074.0313" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="494.5,1070.7813,504.5,1074.7813,494.5,1078.7813,498.5,1074.7813" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="86" x2="500.5" y1="1074.7813" y2="1074.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="93" y="1051.377">SET [is_SysObjectColumn_missing] =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="93" y="1068.9219">1</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="517" y="1045.4639"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="521" y="1063.1494">0</text><line style="stroke:#A80036;stroke-width:2.0;" x1="518" x2="528" y1="1136.416" y2="1146.416"/><line style="stroke:#A80036;stroke-width:2.0;" x1="518" x2="528" y1="1146.416" y2="1136.416"/><line style="stroke:#A80036;stroke-width:1.0;" x1="524" x2="1057.5" y1="1141.416" y2="1141.416"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="529" y="1100.4668">where is_SysObjectColumn_missing =</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="529" y="1118.0117">1, but not in objects which are</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="529" y="1135.5566">is_repo_managed</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="1063" y="1103.3262"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1067" y="1121.0117">0</text><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1612.5" x="0" y="1171.1885"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1612.5" y1="1171.1885" y2="1171.1885"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1612.5" y1="1174.1885" y2="1174.1885"/><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="25.5449" style="stroke:#000000;stroke-width:2.0;" width="299" x="656.75" y="1159.416"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="281" x="662.75" y="1177.1016">[graph].[usp_PERSIST_RepoObjectColumn] - start</text><line style="stroke:#A80036;stroke-width:2.0;" x1="1493.5" x2="1503.5" y1="1231.0508" y2="1241.0508"/><line style="stroke:#A80036;stroke-width:2.0;" x1="1493.5" x2="1503.5" y1="1241.0508" y2="1231.0508"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1278.5" x2="1498.5" y1="1236.0508" y2="1236.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="1285.5" y="1212.6465">delete persistence target missing in</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="1285.5" y="1230.1914">source</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="1516" y="1206.7334"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1520" y="1224.4189">0</text><ellipse cx="1511" cy="1268.8457" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="1494,1265.5957,1504,1269.5957,1494,1273.5957,1498,1269.5957" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1278.5" x2="1500" y1="1269.5957" y2="1269.5957"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1285.5" y="1263.7363">update changed</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="1516" y="1249.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1520" y="1266.7363">0</text><polygon fill="#A80036" points="1499.5,1301.1406,1509.5,1305.1406,1499.5,1309.1406,1503.5,1305.1406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1278.5" x2="1505.5" y1="1305.1406" y2="1305.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="1285.5" y="1299.2813">insert missing</text><rect fill="#FBFB77" filter="url(#f4uuwr2n3sg98)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="32" x="1516" y="1284.5957"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="1520" y="1302.2813">144</text><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1612.5" x="0" y="1336.9131"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1612.5" y1="1336.9131" y2="1336.9131"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1612.5" y1="1339.9131" y2="1339.9131"/><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="25.5449" style="stroke:#000000;stroke-width:2.0;" width="294" x="659.25" y="1325.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="276" x="665.25" y="1342.8262">[graph].[usp_PERSIST_RepoObjectColumn] - end</text><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1612.5" x="0" y="1382.458"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1612.5" y1="1382.458" y2="1382.458"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1612.5" y1="1385.458" y2="1385.458"/><rect fill="#EEEEEE" filter="url(#f4uuwr2n3sg98)" height="25.5449" style="stroke:#000000;stroke-width:2.0;" width="295" x="658.75" y="1370.6855"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="277" x="664.75" y="1388.3711">[repo].[usp_sync_guid_RepoObjectColumn] - end</text><!--MD5=[13a12470adfa6cf22bfb151d1d617b7a]
@startuml
skinparam maxmessagesize 220

== [repo].[usp_sync_guid_RepoObjectColumn] - start ==

"[repo_sys].[SysColumn]" ->O "[repo].[RepoObjectColumn]" : UPDATE repo_sys.SysColumn_RepoObjectColumn_via_RepoObjectColumn_guid
rnote right:150
"[repo].[RepoObjectColumn]" ->O "[repo].[RepoObjectColumn]" : SET [SysObjectColumn_name] = [RepoObjectColumn_guid] (to avoid conflict in the next INSERT step)
rnote right:0
"[repo_sys].[SysColumn]" -> "[repo].[RepoObjectColumn]" : [SysObject_RepoObjectColumn_guid] -> [RepoObjectColumn_guid] ([RepoObjectColumn_guid] is stored in extended properties)
rnote right:0
"[repo_sys].[SysColumn]" ->x "[repo].[RepoObjectColumn]" : DELETE repo.RepoObjectColumn, WHERE (RowNumberOverName > 1); via [repo].[SysColumn_RepoObjectColumn_via_name]
rnote right:0
"[repo_sys].[SysColumn]" -> "[repo].[RepoObjectColumn]" : INSERT still missing Column
rnote right:144
"[repo].[RepoObjectColumn]" ->O "[repo].[RepoObjectColumn]" : SET [RepoObjectColumn_name] = [SysObjectColumn_name] WHERE (has_different_sys_names = 1) AND (ISNULL(is_repo_managed, 0) = 0)
rnote right:144
"[repo_sys].[SysColumn]" ->O "[repo].[RepoObjectColumn]" : other properties, where (ISNULL(is_repo_managed, 0) = 0)
rnote right:2
"[repo_sys].[SysColumn]" ->O "[repo].[RepoObjectColumn]" : persistence: update RepoObjectColumn_name and repo attributes from sys attributes of persistence_source_RepoObjectColumn_guid
rnote right:0
"[repo].[RepoObjectColumn]" ->O "[repo].[RepoObjectColumn]" : persistence: [roc_p].[persistence_source_RepoObjectColumn_guid] = [roc_s].[RepoObjectColumn_guid] (matching by column name via [repo].[RepoObject_persistence])
rnote right:0
"[repo].[RepoObjectColumn]" -> "[repo].[RepoObjectColumn]" : persistence: add missing persistence columns existing in source
rnote right:0
"[repo].[RepoObject_persistence]" -> "[repo].[RepoObjectColumn]" : persistence: insert missing HistValidColumns
rnote right:0
"[repo].[RepoObjectColumn]" ->O "[repo].[RepoObjectColumn]" : persistence: SET [persistence_source_RepoObjectColumn_guid] = NULL (missing source column)
rnote right:2076
"[repo].[RepoObjectColumn]" - -> "[repo_sys].[SysColumn]" : write RepoObjectColumn_guid into extended properties of SysObjectColumn, Level2
rnote right:
"[repo_sys].[SysColumn]" ->O "[repo].[RepoObjectColumn]" : SET [is_SysObjectColumn_missing] = 1
rnote right:0
"[repo_sys].[RepoObjectColumn]" ->x "[repo].[RepoObjectColumn]" : where is_SysObjectColumn_missing = 1, but not in objects which are is_repo_managed
rnote right:0

== [graph].[usp_PERSIST_RepoObjectColumn] - start ==

"[graph].[RepoObjectColumn_S]" ->x "[graph].[RepoObjectColumn]" : delete persistence target missing in source
rnote right:0
"[graph].[RepoObjectColumn_S]" ->O "[graph].[RepoObjectColumn]" : update changed
rnote right:0
"[graph].[RepoObjectColumn_S]" -> "[graph].[RepoObjectColumn]" : insert missing
rnote right:144

== [graph].[usp_PERSIST_RepoObjectColumn] - end ==


== [repo].[usp_sync_guid_RepoObjectColumn] - end ==
@enduml

PlantUML version 1.2021.01(Tue Feb 02 07:55:08 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>