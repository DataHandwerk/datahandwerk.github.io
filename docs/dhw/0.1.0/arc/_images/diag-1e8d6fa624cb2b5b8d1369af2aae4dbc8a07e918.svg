<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="377px" preserveAspectRatio="none" style="width:1522px;height:377px;" version="1.1" viewBox="0 0 1522 377" width="1522px" zoomAndPan="magnify"><defs><filter height="300%" id="f1qlch0mqdoibp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="94" x2="94" y1="42.8945" y2="331.709"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="368.5" x2="368.5" y1="42.8945" y2="331.709"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="531.5" x2="531.5" y1="42.8945" y2="331.709"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="746.5" x2="746.5" y1="42.8945" y2="331.709"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="976.5" x2="976.5" y1="42.8945" y2="331.709"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1319.5" x2="1319.5" y1="42.8945" y2="331.709"/><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="174" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="12" y="26.7383">[repo].[RepoObject_gross]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="174" x="5" y="330.709"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="12" y="352.4473">[repo].[RepoObject_gross]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="151" x="291.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="302.5" y="26.7383">[repo].[GeneratorUsp]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="151" x="291.5" y="330.709"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="302.5" y="352.4473">[repo].[GeneratorUsp]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="147" x="456.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="463.5" y="26.7383">[repo].[GeneratorUsp]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="147" x="456.5" y="330.709"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="463.5" y="352.4473">[repo].[GeneratorUsp]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="255" x="617.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="241" x="624.5" y="26.7383">[repo].[GeneratorUspStep_Persistence]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="255" x="617.5" y="330.709"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="241" x="624.5" y="352.4473">[repo].[GeneratorUspStep_Persistence]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="176" x="886.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="893.5" y="26.7383">[repo].[GeneratorUspStep]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="176" x="886.5" y="330.709"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="893.5" y="352.4473">[repo].[GeneratorUspStep]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="378" x="1128.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="364" x="1135.5" y="26.7383">[repo].[GeneratorUspStep_Persistence_IsInactive_setpoint]</text><rect fill="#FEFECE" filter="url(#f1qlch0mqdoibp)" height="32.8945" style="stroke:#A80036;stroke-width:1.5;" width="378" x="1128.5" y="330.709"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="364" x="1135.5" y="352.4473">[repo].[GeneratorUspStep_Persistence_IsInactive_setpoint]</text><rect fill="#EEEEEE" filter="url(#f1qlch0mqdoibp)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1515.5" x="0" y="74.667"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1515.5" y1="74.667" y2="74.667"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1515.5" y1="77.667" y2="77.667"/><rect fill="#EEEEEE" filter="url(#f1qlch0mqdoibp)" height="25.5449" style="stroke:#000000;stroke-width:2.0;" width="365" x="575.25" y="62.8945"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="347" x="581.25" y="80.5801">[repo].[usp_GeneratorUsp_insert_update_persistence] - start</text><line style="stroke:#A80036;stroke-width:2.0;" x1="351" x2="361" y1="118.9844" y2="128.9844"/><line style="stroke:#A80036;stroke-width:2.0;" x1="351" x2="361" y1="128.9844" y2="118.9844"/><line style="stroke:#A80036;stroke-width:1.0;" x1="94" x2="356" y1="123.9844" y2="123.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="251" x="101" y="118.125">delete old usp, which doesn't exist anymore</text><rect fill="#FBFB77" filter="url(#f1qlch0mqdoibp)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="374" y="103.4395"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="378" y="121.125">0</text><polygon fill="#A80036" points="520,155.5293,530,159.5293,520,163.5293,524,159.5293" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="94" x2="526" y1="159.5293" y2="159.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="101" y="153.6699">insert new usp</text><rect fill="#FBFB77" filter="url(#f1qlch0mqdoibp)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="537" y="138.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="541" y="156.6699">0</text><ellipse cx="976" cy="194.3242" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="959,191.0742,969,195.0742,959,199.0742,963,195.0742" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="747" x2="965" y1="195.0742" y2="195.0742"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="754" y="189.2148">update steps, changed</text><rect fill="#FBFB77" filter="url(#f1qlch0mqdoibp)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="981" y="174.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="985" y="192.2148">0</text><polygon fill="#A80036" points="964.5,226.6191,974.5,230.6191,964.5,234.6191,968.5,230.6191" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="747" x2="970.5" y1="230.6191" y2="230.6191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="754" y="224.7598">insert steps, not existing</text><rect fill="#FBFB77" filter="url(#f1qlch0mqdoibp)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="981" y="210.0742"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="985" y="227.7598">0</text><ellipse cx="976" cy="265.4141" fill="none" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;"/><polygon fill="#A80036" points="993,262.1641,983,266.1641,993,270.1641,989,266.1641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="991" x2="1318.5" y1="266.1641" y2="266.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="319" x="993.5" y="260.3047">update steps; SET [is_inactive] = [setpoint].[is_inactive]</text><rect fill="#FBFB77" filter="url(#f1qlch0mqdoibp)" height="25" style="stroke:#A80036;stroke-width:1.0;" width="16" x="1324" y="245.6191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1328" y="263.3047">0</text><rect fill="#EEEEEE" filter="url(#f1qlch0mqdoibp)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1515.5" x="0" y="297.9365"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1515.5" y1="297.9365" y2="297.9365"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1515.5" y1="300.9365" y2="300.9365"/><rect fill="#EEEEEE" filter="url(#f1qlch0mqdoibp)" height="25.5449" style="stroke:#000000;stroke-width:2.0;" width="360" x="577.75" y="286.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="342" x="583.75" y="303.8496">[repo].[usp_GeneratorUsp_insert_update_persistence] - end</text><!--MD5=[cf609e164eb5fcc10b181428c9254203]
@startuml
== [repo].[usp_GeneratorUsp_insert_update_persistence] - start ==

"[repo].[RepoObject_gross]" ->x " [repo].[GeneratorUsp]" : delete old usp, which doesn't exist anymore
rnote right:0
"[repo].[RepoObject_gross]" -> "[repo].[GeneratorUsp]" : insert new usp
rnote right:0
"[repo].[GeneratorUspStep_Persistence]" ->O "[repo].[GeneratorUspStep]" : update steps, changed
rnote right:0
"[repo].[GeneratorUspStep_Persistence]" -> "[repo].[GeneratorUspStep]" : insert steps, not existing
rnote right:0
"[repo].[GeneratorUspStep_Persistence_IsInactive_setpoint]" ->O "[repo].[GeneratorUspStep]" : update steps; SET [is_inactive] = [setpoint].[is_inactive]
rnote right:0

== [repo].[usp_GeneratorUsp_insert_update_persistence] - end ==
@enduml

PlantUML version 1.2021.01(Tue Feb 02 07:55:08 GMT 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>